(this["webpackJsonpwet-bat-ui"]=this["webpackJsonpwet-bat-ui"]||[]).push([[0],{162:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(28),s=n.n(r),c=n(19),i=n.n(c),o=n(27),l=n(62),u=n(70),d=function(e,t){switch(t.type){case"AIRPORTS_DATA":return Object(u.a)(Object(u.a)({},e),{},{airports:t.data});case"QUOTES_DATA":return Object(u.a)(Object(u.a)({},e),{},{quotes:t.data});case"DELETED_QUOTE":return Object(u.a)(Object(u.a)({},e),{},{quotes:t.quotes});default:throw new Error("Unexpected action")}},j={generalStates:{airports:[],quotes:[]}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return{generalStates:d(e.generalStates,t)}},b=n(7),h=Object(a.createContext)(j),f=function(e){var t=e.children,n=Object(a.useReducer)(p,j),r=Object(l.a)(n,2),s=r[0],c=r[1],i=function(e,t){return{generalActions:(n={state:e,dispatch:t},{airportsData:function(e){n.dispatch({type:"AIRPORTS_DATA",data:e})},quotesData:function(e){n.dispatch({type:"QUOTES_DATA",data:e})},deletedQuote:function(e){n.dispatch({type:"DELETED_QUOTE",quotes:e})}})};var n}(s,c);return Object(a.useEffect)((function(){return console.log({newState:s})}),[s]),Object(b.jsx)(h.Provider,{value:{state:s,dispatch:c,actions:i},children:t})},O=(n(162),function(){return Object(b.jsxs)("div",{className:"header-wrapper",children:[Object(b.jsx)("div",{className:"menu-toggler",children:Object(b.jsx)("i",{className:"fas fa-th-large"})},1),Object(b.jsxs)("div",{className:"logo",children:[Object(b.jsx)("h4",{children:"Wet Bat"}),Object(b.jsx)("span",{children:"Travel"})]},2),Object(b.jsx)("div",{className:"search",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{className:"fas fa-search"}),Object(b.jsx)("input",{type:"text"})]})},3),Object(b.jsxs)("div",{className:"options",children:[Object(b.jsx)("i",{className:"fas fa-bell"}),Object(b.jsx)("i",{className:"fas fa-comment-alt"}),Object(b.jsx)("i",{className:"fas fa-cog"}),Object(b.jsx)("div",{className:"avatar"})]},4)]})}),m=[{icon:"fas fa-home",name:"Home"},{icon:"fas fa-dollar-sign",name:"Quotes"},{icon:"fas fa-th-list",name:"Leaders"},{icon:"fas fa-paper-plane",name:"Tours"}],v=[{icon:"fas fa-sticky-note",name:"Invoices"},{icon:"fas fa-chart-line",name:"Analytics"},{icon:"fas fa-users",name:"Team"},{icon:"fas fa-cog",name:"Admin"},{icon:"far fa-life-ring",name:"Support"}];function x(e,t){return Object(b.jsxs)("div",{className:"menu-item",children:[Object(b.jsx)("i",{className:e}),Object(b.jsx)("span",{children:t})]})}var g=function(){return Object(b.jsxs)("div",{className:"side-menu-wrapper",children:[Object(b.jsx)("div",{children:m.map((function(e){return x(e.icon,e.name)}))}),Object(b.jsx)("div",{children:v.map((function(e){return x(e.icon,e.name)}))}),Object(b.jsxs)("div",{className:"menu-footer",children:[Object(b.jsx)("span",{children:"alright received"}),Object(b.jsx)("span",{children:"by Wetbat 2020"})]})]})},y=n.p+"static/media/banner.5bb1cc15.png",w=n(64),k=n(84),C=n(262),D=n(263),N=n(265),E=n(267),S=n(264),A=n(31),T=n(154),_=n(142),q=n.n(_).a.create({baseURL:"https://wet-bat-deploy-backend.herokuapp.com/",headers:{"Content-Type":"application/json",Accept:"application/json"}});function I(){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("/airports/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with getAirports API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function L(){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("/quotes/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with getPendindQuotes API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("/quotes/",t);case 3:return n=e.sent,e.abrupt("return",n.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with createQote API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function B(e,t){return V.apply(this,arguments)}function V(){return(V=Object(o.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("/quotes/"+t,n);case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with updateQuote API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function U(e){return W.apply(this,arguments)}function W(){return(W=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("/quotes/"+t);case 3:return n=e.sent,e.abrupt("return",n.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with deleteQuote API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var H=k.a.Option,M=C.a.RangePicker,J={name:"",phone:"",description:"",amount:"",nPeople:1,isLoading:!1};function F(e){return e.map((function(e,t){return Object(b.jsx)(H,{value:e.airport_id,children:e.name},t)}))}function z(){return(z=Object(o.a)(i.a.mark((function e(t,n,a){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n(Object.assign({},t,{isLoading:!0})),e.next=4,R(t);case 4:return r=e.sent,e.next=7,L();case 7:s=e.sent,a(s),console.log(r),K("Success, new Quote added"),n(J);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n){var a=e.target.name,r=e.nativeEvent.data;if(null!==r)n(Object.assign({},t,Object(w.a)({},a,t[a]+r)));else if("deleteContentBackward"===e.nativeEvent.inputType){var s=t[a];(s=s.split("")).pop(),s=s.join(""),n(Object.assign({},t,Object(w.a)({},a,s)))}}function G(e,t){return Object(b.jsxs)(k.a,{defaultValue:"transportation",disabled:e.isLoading,onChange:function(n){t(Object.assign({},e,{transportation:n}))},name:"transportation",children:[Object(b.jsx)(H,{value:"transportation",children:"Transportation"}),Object(b.jsx)(H,{value:"Car Rental",children:"Car Rental"}),Object(b.jsx)(H,{value:"Cab Service",children:"Cab Service"}),Object(b.jsx)(H,{value:"Limousines",children:"Limousines"}),Object(b.jsx)(H,{value:"Hotel Shuttles",children:"Hotel Shuttles"}),Object(b.jsx)(H,{value:"Bus Tour Operators",children:"Bus Tour Operators"})]})}function K(e){T.a.open({message:e,placement:"bottomRight",onClick:function(){console.log("Notification Clicked!")}})}var X=function(){var e=Object(a.useState)(J),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(a.useContext)(h),c=s.state,i=s.actions,o=c.generalStates.airports,u=!(null===o||void 0===o?void 0:o.length)>0,d=n.isLoading,j=11===Object.keys(n).length;return Object(b.jsxs)(D.a,{title:"Quick Quote",extra:Object(b.jsx)("i",{className:"fas fa-expand-arrows-alt"}),className:"quick-quote",children:[Object(b.jsx)(N.a,{name:"name",placeholder:"Name",value:n.name,onChange:function(e){$(e,n,r)},disabled:d}),Object(b.jsx)(N.a,{name:"phone",placeholder:"Phone",value:n.phone,onChange:function(e){$(e,n,r)},disabled:d}),Object(b.jsxs)(k.a,{defaultValue:"from",disabled:d,loading:u,onChange:function(e){console.log(e),r(Object.assign({},n,{departure:e}))},children:[Object(b.jsx)(H,{value:"from",children:"From"}),F(o)]}),Object(b.jsxs)(k.a,{defaultValue:"destination",disabled:d,loading:u,onChange:function(e){r(Object.assign({},n,{arrival:e}))},children:[Object(b.jsx)(H,{value:"destination",children:"Destination"}),F(o)]}),Object(b.jsx)(E.b,{direction:"vertical",size:12,children:Object(b.jsx)(M,{disabled:d,onChange:function(e){!function(e,t,n){if(console.log(e),null===e)return;n(Object.assign({},t,{departDate:e[0]._d.getTime(),returnDate:e[1]._d.getTime()}))}(e,n,r)}})}),Object(b.jsxs)("div",{className:"people-box",children:[Object(b.jsx)("label",{children:"People"}),Object(b.jsx)(S.a,{disabled:d,value:n.nPeople,min:1,onChange:function(e){r(Object.assign({},n,{nPeople:e}))}})]}),G(n,r),Object(b.jsx)(N.a,{name:"amount",placeholder:"Amount",value:n.amount,disabled:d,onChange:function(e){$(e,n,r)}}),Object(b.jsx)(N.a,{name:"description",placeholder:"Description",value:n.description,disabled:d,onChange:function(e){$(e,n,r)}}),Object(b.jsx)(A.a,{onClick:function(){!function(e,t,n){z.apply(this,arguments)}(n,r,i.generalActions.quotesData)},disabled:d||!j,loading:d,type:"primary",children:"Create Quote"})]})},Z=n(266),ee=n(261),te=n(45),ne=n.n(te),ae=k.a.Option,re=C.a.RangePicker;function se(e,t,n){var a=e.target.name,r=e.nativeEvent.data;if(null!==r)n(Object.assign({},t,Object(w.a)({},a,t[a]+r)));else if("deleteContentBackward"===e.nativeEvent.inputType){var s=t[a];(s=s.split("")).pop(),s=s.join(""),n(Object.assign({},t,Object(w.a)({},a,s)))}}function ce(e){return e.map((function(e,t){return Object(b.jsx)(ae,{value:e.airport_id,children:e.name},t)}))}function ie(e,t){return Object(b.jsxs)(k.a,{defaultValue:"transportation",disabled:e.isLoading,onChange:function(n){t(Object.assign({},e,{transportation:n}))},name:"transportation",children:[Object(b.jsx)(ae,{value:"transportation",children:"Transportation"}),Object(b.jsx)(ae,{value:"Car Rental",children:"Car Rental"}),Object(b.jsx)(ae,{value:"Cab Service",children:"Cab Service"}),Object(b.jsx)(ae,{value:"Limousines",children:"Limousines"}),Object(b.jsx)(ae,{value:"Hotel Shuttles",children:"Hotel Shuttles"}),Object(b.jsx)(ae,{value:"Bus Tour Operators",children:"Bus Tour Operators"})]})}var oe=function(e){var t=Object(a.useContext)(h).state,n=Object(a.useState)(Object.assign({},e.data,{nPeople:e.data.n_people})),r=Object(l.a)(n,2),s=r[0],c=r[1];return Object(a.useEffect)((function(){"{}"===JSON.stringify(s)&&"{}"!==JSON.stringify(e.data)&&(console.log("update state"),c(Object.assign({},e.data,{nPeople:e.data.n_people})))})),Object(b.jsxs)(Z.a,{title:"Edit Quote #"+(null===s||void 0===s?void 0:s.quote_id),visible:e.visible,className:"edit-modal",onOk:function(){e.onSubmit(function(e,t){var n=t;isNaN(parseInt(t.departure))&&e.forEach((function(e){e.name===t.departure&&(n.departure=e.airport_id)}));isNaN(parseInt(t.arrival))&&e.forEach((function(e){e.name===t.arrival&&(n.arrival=e.airport_id)}));return n}(t.generalStates.airports,s))},onCancel:function(){null===e||void 0===e||e.onCancel(),c({})},children:[Object(b.jsx)(N.a,{name:"name",placeholder:"Name",value:s.name,onChange:function(e){se(e,s,c)}}),Object(b.jsx)(N.a,{name:"phone",placeholder:"Phone",value:s.phone,onChange:function(e){se(e,s,c)}}),Object(b.jsxs)(k.a,{defaultValue:"from",value:s.departure,onChange:function(e){console.log(e),c(Object.assign({},s,{departure:e}))},children:[Object(b.jsx)(ae,{value:"from",children:"From"}),ce(t.generalStates.airports)]}),Object(b.jsxs)(k.a,{defaultValue:"destination",value:s.arrival,onChange:function(e){c(Object.assign({},s,{arrival:e}))},children:[Object(b.jsx)(ae,{value:"destination",children:"Destination"}),ce(t.generalStates.airports)]}),Object(b.jsx)(E.b,{direction:"vertical",size:12,children:Object(b.jsx)(re,{defaultValue:[ne()(s.departDate,"MM/DD/YYYY"),ne()(s.returnDate,"MM/DD/YYYY")],onChange:function(e){!function(e,t,n){if(console.log(e),null===e)return;n(Object.assign({},t,{departDate:e[0]._d.getTime(),returnDate:e[1]._d.getTime()}))}(e,s,c)}})}),Object(b.jsxs)("div",{className:"people-box",children:[Object(b.jsx)("label",{children:"People"}),Object(b.jsx)(S.a,{value:s.nPeople,min:1,onChange:function(e){c(Object.assign({},s,{nPeople:e}))}})]}),ie(s,c),Object(b.jsx)(N.a,{name:"amount",placeholder:"Amount",value:s.amount,onChange:function(e){se(e,s,c)}}),Object(b.jsx)(N.a,{name:"description",placeholder:"Description",value:s.description,onChange:function(e){se(e,s,c)}})]})},le=Z.a.confirm,ue=[,{title:"Actions",dataIndex:"actions",key:"actions",fixed:"left",render:function(e){return Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)(A.a,{onClick:e.edit,type:"dashed",children:Object(b.jsx)("i",{className:"fas fa-pencil-alt"})},"edit"),Object(b.jsx)(A.a,{onClick:e.delete,danger:!0,children:Object(b.jsx)("i",{className:"fas fa-trash"})},"delete"),Object(b.jsx)(A.a,{onClick:e.service,type:"primary",children:"Register Service"},"transform")]})}},{title:"Id",dataIndex:"quote_id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Phone",dataIndex:"phone",key:"pone"},{title:"Depart Date",dataIndex:"departDate",key:"depart_date"},{title:"Return Date",dataIndex:"returnDate",key:"return_date"},{title:"People",dataIndex:"n_people",key:"n_people"},{title:"Transportation",dataIndex:"transportation",key:"transportation"},{title:"Amount",dataIndex:"Amount",key:"Amount"},{title:"Departure",dataIndex:"departure",key:"departure"},{title:"Arrival",dataIndex:"arrival",key:"arrival"},{title:"Description",dataIndex:"description",key:"description"}],de={isLoading:!1,isEdit:!1,editData:{}};function je(e){var t=new Date(e);return"".concat(t.getMonth(),"/").concat(t.getDay(),"/").concat(t.getFullYear())}function pe(){return(pe=Object(o.a)(i.a.mark((function e(t,n,a,r){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object.assign({},n,{isEdit:!1,editData:{}}),a(Object.assign(s,{isLoading:!0})),e.next=4,B(t.quote_id,t);case 4:return e.next=6,L();case 6:c=e.sent,a(Object.assign(s,{isLoading:!1})),r(c),fe("Success Edit Quote #"+t.quote_id);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t,n,a){return he.apply(this,arguments)}function he(){return(he=Object(o.a)(i.a.mark((function e(t,n,a,r){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object.assign({},n,{isLoading:!0})),e.next=3,U(t);case 3:return s=e.sent,e.next=6,L();case 6:c=e.sent,console.log(s),a(Object.assign({},n,{isLoading:!1})),r(c),fe("Success delete Quote #"+t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){T.a.open({message:e,placement:"bottomRight",onClick:function(){console.log("Notification Clicked!")}})}var Oe=function(){var e=Object(a.useContext)(h),t=e.state,n=e.actions,r=Object(a.useState)(de),s=Object(l.a)(r,2),c=s[0],i=s[1],o=n.generalActions.quotesData,u=t.generalStates.quotes.map((function(e){return e.departDate=je(e.depart_date),e.returnDate=je(e.return_date),e.key=e.quote_id,e.actions={delete:function(){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];le({title:"Are you sure delete this Quote?",content:"Will delete this quote permanently",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.apply(void 0,n)},onCancel:function(){console.log("Cancel")}})}(be,e.quote_id,c,i,o)},edit:function(){i(Object.assign({},c,{isEdit:!0,editData:e}))},service:function(){var t;t=e.quote_id,console.log(t)}},e}));return console.log(c.isEdit),Object(b.jsxs)(D.a,{title:"Pending Quotes",extra:Object(b.jsx)("i",{className:"fas fa-expand-arrows-alt"}),className:"quotes-list",children:[Object(b.jsx)(ee.a,{loading:c.isLoading,dataSource:u,columns:ue}),Object(b.jsx)(oe,{visible:c.isEdit,data:c.editData,onSubmit:function(e){console.log(e),function(e,t,n,a){pe.apply(this,arguments)}(e,c,i,o)},onCancel:function(){i(Object.assign({},c,{isEdit:!1}))}})]})},me=[{name:"new leads",value:105},{name:"quotes created",value:35},{name:"pending orders",value:40}];var ve=function(){return Object(b.jsx)("div",{className:"dashboard-content",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"welcome",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Welcome to your dashboard"}),Object(b.jsx)("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ea adipisci architecto odit. Ipsa nobis sunt quasi ea labore ullam accusamus vitae dolorum possimus at porro, laudantium hic, tempora consequatur harum!"})]}),Object(b.jsxs)("div",{className:"values-holder",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:y,alt:"banner"})}),Object(b.jsx)("div",{className:"values",children:me.map((function(e){return Object(b.jsxs)("div",{className:"value-item",children:[Object(b.jsx)("h1",{children:e.value}),Object(b.jsx)("h3",{children:e.name})]})}))})]})]}),Object(b.jsx)(X,{}),Object(b.jsx)(Oe,{})]},1)})};n(254);function xe(){return(xe=Object(o.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.airportsData,a=t.quotesData,e.next=3,I();case 3:return(r=e.sent)&&n(r),e.next=7,L();case 7:(s=e.sent)&&a(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=function(){var e=Object(a.useContext)(h).actions;return Object(a.useEffect)((function(){!function(e){xe.apply(this,arguments)}(e.generalActions)}),[]),Object(b.jsxs)("div",{className:"dashboard-wrapper",children:[Object(b.jsx)(O,{}),Object(b.jsx)(g,{}),Object(b.jsx)(ve,{})]})};n(255).config();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(b.jsx)(f,{children:Object(b.jsx)(ge,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[259,1,2]]]);
//# sourceMappingURL=main.21180384.chunk.js.map