(this["webpackJsonpwet-bat-ui"]=this["webpackJsonpwet-bat-ui"]||[]).push([[0],{224:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(34),s=a.n(r),c=a(17),i=a.n(c),o=a(29),u=a(33),l=a(25),d=function(e,t){switch(t.type){case"AIRPORTS_DATA":return Object(l.a)(Object(l.a)({},e),{},{airports:t.data});case"QUOTES_DATA":return Object(l.a)(Object(l.a)({},e),{},{quotes:t.data});case"TOURS_DATA":return Object(l.a)(Object(l.a)({},e),{},{tours:t.data});case"CHANGE_VIEW":return Object(l.a)(Object(l.a)({},e),{},{activeView:t.name});case"SERVICES_DATA":return Object(l.a)(Object(l.a)({},e),{},{services:t.data});default:throw new Error("Unexpected action")}},p={generalStates:{airports:[],quotes:[],tours:[],services:[],activeView:"home"}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return{generalStates:d(e.generalStates,t)}},b=a(6),f=Object(n.createContext)(p),h=function(e){var t=e.children,a=Object(n.useReducer)(j,p),r=Object(u.a)(a,2),s=r[0],c=r[1],i=function(e,t){return{generalActions:(a={state:e,dispatch:t},{airportsData:function(e){a.dispatch({type:"AIRPORTS_DATA",data:e})},quotesData:function(e){a.dispatch({type:"QUOTES_DATA",data:e})},toursData:function(e){a.dispatch({type:"TOURS_DATA",data:e})},servicesData:function(e){a.dispatch({type:"SERVICES_DATA",data:e})},changeView:function(e){a.dispatch({type:"CHANGE_VIEW",name:e})}})};var a}(s,c);return Object(n.useEffect)((function(){return console.log({newState:s})}),[s]),Object(b.jsx)(f.Provider,{value:{state:s,dispatch:c,actions:i},children:t})},m=(a(224),function(){return Object(b.jsxs)("div",{className:"header-wrapper",children:[Object(b.jsx)("div",{className:"menu-toggler",children:Object(b.jsx)("i",{className:"fas fa-th-large"})},1),Object(b.jsxs)("div",{className:"logo",children:[Object(b.jsx)("h4",{children:"Wet Bat"}),Object(b.jsx)("span",{children:"Travel"})]},2),Object(b.jsx)("div",{className:"search",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("i",{className:"fas fa-search"}),Object(b.jsx)("input",{type:"text"})]})},3),Object(b.jsxs)("div",{className:"options",children:[Object(b.jsx)("i",{className:"fas fa-bell"}),Object(b.jsx)("i",{className:"fas fa-comment-alt"}),Object(b.jsx)("i",{className:"fas fa-cog"}),Object(b.jsx)("div",{className:"avatar"})]},4)]})}),O=[{icon:"fas fa-home",name:"Home"},{icon:"fas fa-dollar-sign",name:"Quotes"},{icon:"fas fa-th-list",name:"Leaders"},{icon:"fas fa-paper-plane",name:"Tours"}],x=[{icon:"fas fa-sticky-note",name:"Invoices"},{icon:"fas fa-chart-line",name:"Analytics"},{icon:"fas fa-users",name:"Team"},{icon:"fas fa-cog",name:"Admin"},{icon:"far fa-life-ring",name:"Support"}];function v(e,t,a,n){var r=t.toLowerCase()===a.generalStates.activeView,s=r?" active":"";return Object(b.jsxs)("div",{onClick:function(){r||n(t.toLowerCase())},className:"menu-item"+s,children:[Object(b.jsx)("i",{className:e}),Object(b.jsx)("span",{children:t})]})}var g=function(){var e=Object(n.useContext)(f),t=e.state,a=e.actions;return Object(b.jsxs)("div",{className:"side-menu-wrapper",children:[Object(b.jsx)("div",{children:O.map((function(e){return v(e.icon,e.name,t,a.generalActions.changeView)}))}),Object(b.jsx)("div",{children:x.map((function(e){return v(e.icon,e.name,t,a.generalActions.changeView)}))}),Object(b.jsxs)("div",{className:"menu-footer",children:[Object(b.jsx)("span",{children:"alright received"}),Object(b.jsx)("span",{children:"by Wetbat 2020"})]})]})},y=a.p+"static/media/banner.5bb1cc15.png",k=a(28),w=a(106),C=a(361),S=a(362),N=a(363),D=a(367),A=a(364),I=a(38),_=a(213),E=a(196),T=a.n(E).a.create({baseURL:"https://wet-bat-deploy-backend.herokuapp.com/",headers:{"Content-Type":"application/json",Accept:"application/json"}});function P(){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("/airports/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with getAirports API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function q(){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("/quotes/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with getPendindQuotes API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function V(){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("/tours/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with getTours API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("/services/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with getServices API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function W(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("/quotes/",t);case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with createQote API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function M(e){return G.apply(this,arguments)}function G(){return(G=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("/invoices/",t);case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with createInvocie API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function H(e){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("/tours/",t);case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with createTour API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function U(e,t){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("/quotes/"+t,a);case 3:return n=e.sent,e.abrupt("return",n.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with updateQuote API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function $(e,t){return K.apply(this,arguments)}function K(){return(K=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.put("/tours/"+t,a);case 3:return n=e.sent,e.abrupt("return",n.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with updateTour API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("/quotes/"+t);case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with deleteQuote API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("/tours/"+t);case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error with deleteTour API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ae=w.a.Option,ne=C.a.RangePicker,re={name:"",phone:"",description:"",amount:"",nPeople:1,isLoading:!1};function se(e){return e.map((function(e,t){return Object(b.jsx)(ae,{value:e.airport_id,children:e.name},t)}))}function ce(){return(ce=Object(o.a)(i.a.mark((function e(t,a,n){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a(Object.assign({},t,{isLoading:!0})),e.next=4,W(t);case 4:return r=e.sent,e.next=7,q();case 7:s=e.sent,n(s),console.log(r),ue("Success, new Quote added"),a(re);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t,a){var n=e.target.name,r=e.nativeEvent.data;if(null!==r)a(Object.assign({},t,Object(k.a)({},n,t[n]+r)));else if("deleteContentBackward"===e.nativeEvent.inputType){var s=t[n];(s=s.split("")).pop(),s=s.join(""),a(Object.assign({},t,Object(k.a)({},n,s)))}}function oe(e,t){return Object(b.jsxs)(w.a,{defaultValue:"transportation",disabled:e.isLoading,onChange:function(a){t(Object.assign({},e,{transportation:a}))},name:"transportation",children:[Object(b.jsx)(ae,{value:"transportation",children:"Transportation"}),Object(b.jsx)(ae,{value:"Car Rental",children:"Car Rental"}),Object(b.jsx)(ae,{value:"Cab Service",children:"Cab Service"}),Object(b.jsx)(ae,{value:"Limousines",children:"Limousines"}),Object(b.jsx)(ae,{value:"Hotel Shuttles",children:"Hotel Shuttles"}),Object(b.jsx)(ae,{value:"Bus Tour Operators",children:"Bus Tour Operators"})]})}function ue(e){_.a.open({message:e,placement:"bottomRight",onClick:function(){console.log("Notification Clicked!")}})}var le=function(){var e=Object(n.useState)(re),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useContext)(f),c=s.state,i=s.actions,o=c.generalStates.airports,l=!(null===o||void 0===o?void 0:o.length)>0,d=a.isLoading,p=11===Object.keys(a).length;return Object(b.jsxs)(S.a,{title:"Quick Quote",extra:Object(b.jsx)("i",{className:"fas fa-expand-arrows-alt"}),className:"quick-quote",children:[Object(b.jsx)(N.a,{name:"name",placeholder:"Name",value:a.name,onChange:function(e){ie(e,a,r)},disabled:d}),Object(b.jsx)(N.a,{name:"phone",placeholder:"Phone",value:a.phone,onChange:function(e){ie(e,a,r)},disabled:d}),Object(b.jsxs)(w.a,{defaultValue:"from",disabled:d,loading:l,onChange:function(e){console.log(e),r(Object.assign({},a,{departure:e}))},children:[Object(b.jsx)(ae,{value:"from",children:"From"}),se(o)]}),Object(b.jsxs)(w.a,{defaultValue:"destination",disabled:d,loading:l,onChange:function(e){r(Object.assign({},a,{arrival:e}))},children:[Object(b.jsx)(ae,{value:"destination",children:"Destination"}),se(o)]}),Object(b.jsx)(D.b,{direction:"vertical",size:12,children:Object(b.jsx)(ne,{disabled:d,onChange:function(e){!function(e,t,a){if(console.log(e),null===e)return;a(Object.assign({},t,{departDate:e[0]._d.getTime(),returnDate:e[1]._d.getTime()}))}(e,a,r)}})}),Object(b.jsxs)("div",{className:"people-box",children:[Object(b.jsx)("label",{children:"People"}),Object(b.jsx)(A.a,{disabled:d,value:a.nPeople,min:1,onChange:function(e){r(Object.assign({},a,{nPeople:e}))}})]}),oe(a,r),Object(b.jsx)(N.a,{name:"amount",placeholder:"Amount",value:a.amount,disabled:d,onChange:function(e){ie(e,a,r)}}),Object(b.jsx)(N.a,{name:"description",placeholder:"Description",value:a.description,disabled:d,onChange:function(e){ie(e,a,r)}}),Object(b.jsx)(I.a,{onClick:function(){!function(e,t,a){ce.apply(this,arguments)}(a,r,i.generalActions.quotesData)},disabled:d||!p,loading:d,type:"primary",children:"Create Quote"})]})},de=a(365),pe=a(360),je=a(55),be=a.n(je),fe=w.a.Option,he=C.a.RangePicker;function me(e,t,a){var n=e.target.name,r=e.nativeEvent.data;if(null!==r)a(Object.assign({},t,Object(k.a)({},n,t[n]+r)));else if("deleteContentBackward"===e.nativeEvent.inputType){var s=t[n];(s=s.split("")).pop(),s=s.join(""),a(Object.assign({},t,Object(k.a)({},n,s)))}}function Oe(e){return e.map((function(e,t){return Object(b.jsx)(fe,{value:e.airport_id,children:e.name},t)}))}function xe(e,t){return Object(b.jsxs)(w.a,{defaultValue:"transportation",disabled:e.isLoading,onChange:function(a){t(Object.assign({},e,{transportation:a}))},name:"transportation",children:[Object(b.jsx)(fe,{value:"transportation",children:"Transportation"}),Object(b.jsx)(fe,{value:"Car Rental",children:"Car Rental"}),Object(b.jsx)(fe,{value:"Cab Service",children:"Cab Service"}),Object(b.jsx)(fe,{value:"Limousines",children:"Limousines"}),Object(b.jsx)(fe,{value:"Hotel Shuttles",children:"Hotel Shuttles"}),Object(b.jsx)(fe,{value:"Bus Tour Operators",children:"Bus Tour Operators"})]})}var ve=function(e){var t=Object(n.useContext)(f).state,a=Object(n.useState)(Object.assign({},e.data,{nPeople:e.data.n_people})),r=Object(u.a)(a,2),s=r[0],c=r[1];Object(n.useEffect)((function(){"{}"===JSON.stringify(s)&&"{}"!==JSON.stringify(e.data)&&(console.log("update state"),c(Object.assign({},e.data,{nPeople:e.data.n_people})))}));var i=(null===s||void 0===s?void 0:s.quote_id)?"Edit Quote #"+(null===s||void 0===s?void 0:s.quote_id):"Create new Quote";return Object(b.jsxs)(de.a,{title:i,visible:e.visible,className:"edit-modal",onOk:function(){e.onSubmit(function(e,t){var a=t;isNaN(parseInt(t.departure))&&e.forEach((function(e){e.name===t.departure&&(a.departure=e.airport_id)}));isNaN(parseInt(t.arrival))&&e.forEach((function(e){e.name===t.arrival&&(a.arrival=e.airport_id)}));return a}(t.generalStates.airports,s))},onCancel:function(){null===e||void 0===e||e.onCancel(),c({})},children:[Object(b.jsx)(N.a,{name:"name",placeholder:"Name",value:s.name,onChange:function(e){me(e,s,c)}}),Object(b.jsx)(N.a,{name:"phone",placeholder:"Phone",value:s.phone,onChange:function(e){me(e,s,c)}}),Object(b.jsxs)(w.a,{defaultValue:"from",value:s.departure,onChange:function(e){console.log(e),c(Object.assign({},s,{departure:e}))},children:[Object(b.jsx)(fe,{value:"from",children:"From"}),Oe(t.generalStates.airports)]}),Object(b.jsxs)(w.a,{defaultValue:"destination",value:s.arrival,onChange:function(e){c(Object.assign({},s,{arrival:e}))},children:[Object(b.jsx)(fe,{value:"destination",children:"Destination"}),Oe(t.generalStates.airports)]}),Object(b.jsx)(D.b,{direction:"vertical",size:12,children:Object(b.jsx)(he,{defaultValue:[be()(s.departDate,"MM/DD/YYYY"),be()(s.returnDate,"MM/DD/YYYY")],onChange:function(e){!function(e,t,a){if(console.log(e),null===e)return;a(Object.assign({},t,{departDate:e[0]._d.getTime(),returnDate:e[1]._d.getTime()}))}(e,s,c)}})}),Object(b.jsxs)("div",{className:"people-box",children:[Object(b.jsx)("label",{children:"People"}),Object(b.jsx)(A.a,{value:s.nPeople,min:1,onChange:function(e){c(Object.assign({},s,{nPeople:e}))}})]}),xe(s,c),Object(b.jsx)(N.a,{name:"amount",placeholder:"Amount",value:s.amount,onChange:function(e){me(e,s,c)}}),Object(b.jsx)(N.a,{name:"description",placeholder:"Description",value:s.description,onChange:function(e){me(e,s,c)}})]})},ge=de.a.confirm,ye=[{title:"Actions",dataIndex:"actions",key:"actions",fixed:"left",render:function(e){return Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)(I.a,{onClick:e.edit,type:"dashed",children:Object(b.jsx)("i",{className:"fas fa-pencil-alt"})},"edit"),Object(b.jsx)(I.a,{onClick:e.delete,danger:!0,children:Object(b.jsx)("i",{className:"fas fa-trash"})},"delete"),Object(b.jsx)(I.a,{onClick:e.service,type:"primary",children:"Register Service"},"transform")]})}},{title:"Id",dataIndex:"quote_id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Phone",dataIndex:"phone",key:"pone"},{title:"Depart Date",dataIndex:"departDate",key:"depart_date"},{title:"Return Date",dataIndex:"returnDate",key:"return_date"},{title:"People",dataIndex:"n_people",key:"n_people"},{title:"Transportation",dataIndex:"transportation",key:"transportation"},{title:"Amount",dataIndex:"Amount",key:"Amount"},{title:"Departure",dataIndex:"departure",key:"departure"},{title:"Arrival",dataIndex:"arrival",key:"arrival"},{title:"Description",dataIndex:"description",key:"description"}],ke={isLoading:!1,isEdit:!1,editData:{}};function we(e){var t=new Date(e);return"".concat(t.getMonth(),"/").concat(t.getDay(),"/").concat(t.getFullYear())}function Ce(){return(Ce=Object(o.a)(i.a.mark((function e(t,a,n,r){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object.assign({},a,{isEdit:!1,editData:{}}),n(Object.assign(s,{isLoading:!0})),e.next=4,U(t.quote_id,t);case 4:return e.next=6,q();case 6:c=e.sent,n(Object.assign(s,{isLoading:!1})),r(c),Ae("Success Edit Quote #"+t.quote_id);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e,t,a,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(o.a)(i.a.mark((function e(t,a,n,r){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object.assign({},a,{isLoading:!0})),e.next=3,X(t);case 3:return s=e.sent,e.next=6,q();case 6:c=e.sent,console.log(s),n(Object.assign({},a,{isLoading:!1})),r(c),Ae("Success delete Quote #"+t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(o.a)(i.a.mark((function e(t,a,n,r,s){var c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object.assign({},a,{isLoading:!0})),e.next=3,M(t);case 3:return c=e.sent,e.next=6,q();case 6:return o=e.sent,e.next=9,F();case 9:u=e.sent,o&&u&&(r(o),s(u)),console.log(c),n(Object.assign({},a,{isLoading:!1})),Ae("Success Invoice create for Quote #"+t.quote_id);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){_.a.open({message:e,placement:"bottomRight",onClick:function(){console.log("Notification Clicked!")}})}var Ie=function(){var e=Object(n.useContext)(f),t=e.state,a=e.actions,r=Object(n.useState)(ke),s=Object(u.a)(r,2),c=s[0],i=s[1],o=a.generalActions.quotesData,l=a.generalActions.servicesData,d=t.generalStates.quotes.map((function(e){return e.departDate=we(e.depart_date),e.returnDate=we(e.return_date),e.key=e.quote_id,e.actions={delete:function(){!function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];ge({title:"Are you sure delete this Quote?",content:"Will delete this quote permanently",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.apply(void 0,a)},onCancel:function(){console.log("Cancel")}})}(Se,e.quote_id,c,i,o)},edit:function(){i(Object.assign({},c,{isEdit:!0,editData:e}))},service:function(){!function(e,t,a,n,r){De.apply(this,arguments)}(e,c,i,o,l)}},e}));return console.log(c.isEdit),Object(b.jsxs)(S.a,{title:"Pending Quotes",extra:Object(b.jsx)("i",{className:"fas fa-expand-arrows-alt"}),className:"quotes-list",children:[Object(b.jsx)(pe.a,{loading:c.isLoading,dataSource:d,columns:ye}),Object(b.jsx)(ve,{visible:c.isEdit,data:c.editData,onSubmit:function(e){console.log(e),function(e,t,a,n){Ce.apply(this,arguments)}(e,c,i,o)},onCancel:function(){i(Object.assign({},c,{isEdit:!1}))}})]})},_e=a(206),Ee=a(368),Te=a(108),Pe=[{markerOffset:-30,name:"Buenos Aires",coordinates:[-58.3816,-34.6037]},{markerOffset:15,name:"La Paz",coordinates:[-68.1193,-16.4897]},{markerOffset:15,name:"Brasilia",coordinates:[-47.8825,-15.7942]},{markerOffset:15,name:"Santiago",coordinates:[-70.6693,-33.4489]},{markerOffset:15,name:"Bogota",coordinates:[-74.0721,4.711]},{markerOffset:15,name:"Quito",coordinates:[-78.4678,-.1807]},{markerOffset:-30,name:"Georgetown",coordinates:[-58.1551,6.8013]},{markerOffset:-30,name:"Asuncion",coordinates:[-57.5759,-25.2637]},{markerOffset:15,name:"Paramaribo",coordinates:[-55.2038,5.852]},{markerOffset:15,name:"Montevideo",coordinates:[-56.1645,-34.9011]},{markerOffset:15,name:"Caracas",coordinates:[-66.9036,10.4806]},{markerOffset:15,name:"Lima",coordinates:[-77.0428,-12.0464]}],Le={name:""},qe=Object(b.jsxs)("div",{className:"map-info-text",children:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias quisquam animi rerum molestiae maiores reiciendis, veniam harum sapiente dolores numquam eum minus nobis error quidem dolorem. Delectus nobis ex ipsum!",Object(b.jsxs)("div",{children:["Price:$",Object(b.jsx)("span",{children:"2800"})]})]}),Re=function(){var e=Object(n.useState)(Le),t=Object(u.a)(e,2);t[0],t[1];return Object(b.jsxs)(Te.ComposableMap,{projection:"geoAzimuthalEqualArea",projectionConfig:{rotate:[58,20,0],scale:400},children:[Object(b.jsx)(Te.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",children:function(e){return e.geographies.filter((function(e){return"Americas"===e.properties.REGION_UN})).map((function(e){return Object(b.jsx)(Te.Geography,{geography:e,fill:"#c9f1f0",stroke:"#c9f1f0"},e.rsmKey)}))}}),Pe.map((function(e){var t=e.name,a=e.coordinates,n=e.markerOffset;return Object(b.jsx)(Ee.a,{content:qe,title:t,trigger:"click",children:Object(b.jsxs)(Te.Marker,{onClick:function(){console.log("click marker",t)},coordinates:a,children:[Object(b.jsxs)("g",{fill:"#FF5533",stroke:"#FF5533",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(-12, -24)",children:[Object(b.jsx)("circle",{fill:"#FFFFFF",cx:"12",cy:"10",r:"3"}),Object(b.jsx)("path",{d:"M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z"})]}),Object(b.jsx)("text",{textAnchor:"middle",y:n,style:{fontFamily:"system-ui",fill:"#5D5A6D"},children:t})]},t)})}))]})},Ve={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1,barThickness:5}]},Qe={indexAxis:"y",elements:{bar:{borderWidth:2,outerWidth:5}},responsive:!0,plugins:{legend:{position:"right"}}},Fe=function(){return Object(b.jsxs)(S.a,{className:"popular-card",title:"Popular Destination & packages",children:[Object(b.jsx)(_e.a,{width:300,data:Ve,options:Qe}),Object(b.jsx)(Re,{})]})},Be=[{name:"new leads",value:105},{name:"quotes created",value:35},{name:"pending orders",value:40}];var We=function(){return Object(b.jsxs)("div",{className:"dashboard-content",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"welcome",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Welcome to your dashboard"}),Object(b.jsx)("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ea adipisci architecto odit. Ipsa nobis sunt quasi ea labore ullam accusamus vitae dolorum possimus at porro, laudantium hic, tempora consequatur harum!"})]}),Object(b.jsxs)("div",{className:"values-holder",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:y,alt:"banner"})}),Object(b.jsx)("div",{className:"values",children:Be.map((function(e){return Object(b.jsxs)("div",{className:"value-item",children:[Object(b.jsx)("h1",{children:e.value}),Object(b.jsx)("h3",{children:e.name})]})}))})]})]}),Object(b.jsx)(le,{}),Object(b.jsx)(Ie,{})]},1),Object(b.jsx)(Fe,{})]})},Ye=a(366),Me=w.a.Option,Ge={selectValue:0,isVisible:!1,tourSelected:{}};function He(){return(He=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:if(200!==e.sent){e.next=11;break}return e.next=6,q();case 6:n=e.sent,a(n),Je("Success Quote Created"),e.next=12;break;case 11:Je("Error writing, make sure to fill all the fields");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){_.a.open({message:e,placement:"bottomRight",onClick:function(){console.log("Notification Clicked!")}})}var Ue=function(){var e=Object(n.useContext)(f),t=e.state,a=e.actions,r=Object(n.useState)(Ge),s=Object(u.a)(r,2),c=s[0],i=s[1],o=t.generalStates.tours,l=a.generalActions.quotesData;return Object(b.jsxs)(S.a,{title:"Create Quote From tour",className:"tour-card",extra:Object(b.jsx)("i",{className:"fas fa-expand-arrows-alt"}),children:[Object(b.jsxs)(w.a,{value:c.selectValue,onChange:function(e){var t=0;o.forEach((function(a){a.tour_id===e&&(t=a)})),i(Object.assign({},c,{selectValue:e,tourSelected:t}))},children:[Object(b.jsx)(Me,{value:0,children:"Select Tour"},"default"),o.map((function(e){return Object(b.jsx)(Me,{value:e.tour_id,children:e.name},e.tour_id)}))]}),Object(b.jsxs)(Ye.b,{title:"Tour Description",children:[Object(b.jsx)(Ye.b.Item,{label:"Name",children:c.tourSelected.name||"Name"}),Object(b.jsx)(Ye.b.Item,{label:"Departure",children:c.tourSelected.departure||"departure"}),Object(b.jsx)(Ye.b.Item,{label:"Destination",children:c.tourSelected.arrival||"arrival"}),Object(b.jsxs)(Ye.b.Item,{label:"Price",children:["$",c.tourSelected.amount||"amount"]})]}),Object(b.jsx)(I.a,{type:"primary",disabled:0===c.selectValue,onClick:function(){i(Object.assign({},c,{isVisible:!0}))},children:"Create Quote from tour"}),Object(b.jsx)(ve,{visible:c.isVisible,data:Object.assign({},c.tourSelected,{name:"",description:c.tourSelected.name}),onSubmit:function(e){console.log(e),i(Ge),function(e,t){He.apply(this,arguments)}(e,l)},onCancel:function(){i(Object.assign({},c,{isVisible:!1}))}})]})},ze=function(){return Object(b.jsxs)("div",{className:"quotes-view",children:[Object(b.jsx)(le,{}),Object(b.jsx)(Ue,{}),Object(b.jsx)(Ie,{})]})},$e=[{title:"Id",dataIndex:"quote_id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Phone",dataIndex:"phone",key:"pone"},{title:"Depart Date",dataIndex:"departDate",key:"depart_date"},{title:"Return Date",dataIndex:"returnDate",key:"return_date"},{title:"People",dataIndex:"n_people",key:"n_people"},{title:"Transportation",dataIndex:"transportation",key:"transportation"},{title:"Amount",dataIndex:"Amount",key:"Amount"},{title:"Departure",dataIndex:"departure",key:"departure"},{title:"Arrival",dataIndex:"arrival",key:"arrival"},{title:"Description",dataIndex:"description",key:"description"}];function Ke(e){var t=new Date(e);return"".concat(t.getMonth(),"/").concat(t.getDay(),"/").concat(t.getFullYear())}var Xe=function(e){var t=Object(n.useContext)(f).state.generalStates.services.map((function(e){return e.departDate=Ke(e.depart_date),e.returnDate=Ke(e.return_date),e.key=e.quote_id,e}));return Object(b.jsx)(S.a,{className:"services-table",title:"Completed Services",children:Object(b.jsx)(pe.a,{rowSelection:{type:"radio",onChange:function(t,a){console.log("selectedRowKeys: ".concat(t),"selectedRows: ",a),e.onChange(a)}},dataSource:t,columns:$e})})},Ze={selectedService:{}},et=function(){var e=Object(n.useState)(Ze),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(b.jsxs)("div",{className:"invoice-view",children:[Object(b.jsx)(Xe,{onChange:function(e){r(Object.assign({},a,{selectedService:e[0]}))}}),Object(b.jsxs)(S.a,{className:"invoice-card",title:"Invoice Description",children:[Object(b.jsxs)("div",{className:"item",children:[Object(b.jsx)("span",{children:"Name"}),Object(b.jsx)("p",{children:a.selectedService.name||"<name>"})]}),Object(b.jsxs)("div",{className:"item",children:[Object(b.jsx)("span",{children:"Phone"}),Object(b.jsx)("p",{children:a.selectedService.phone||"<phone>"})]}),Object(b.jsxs)("div",{className:"item",children:[Object(b.jsx)("span",{children:"Price"}),Object(b.jsxs)("p",{children:["$",a.selectedService.amount||"<phone>"]})]}),Object(b.jsxs)(I.a,{disabled:!a.selectedService.name,type:"primary",children:["Print",Object(b.jsx)("i",{className:"fas fa-print"})]})]})]})},tt=de.a.confirm,at=[{title:"Actions",dataIndex:"actions",key:"actions",fixed:"left",render:function(e){return Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)(I.a,{onClick:e.edit,type:"dashed",children:Object(b.jsx)("i",{className:"fas fa-pencil-alt"})},"edit"),Object(b.jsx)(I.a,{onClick:e.delete,danger:!0,children:Object(b.jsx)("i",{className:"fas fa-trash"})},"delete")]})}},{title:"Id",dataIndex:"tour_id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Price",dataIndex:"amount",key:"Amount",render:function(e){return Object(b.jsxs)("span",{children:["$",e]})}},{title:"Departure",dataIndex:"dep",key:"departure"},{title:"Destination",dataIndex:"arr",key:"arrival"},{title:"Days",dataIndex:"n_days",key:"n_days"}],nt={isLoading:!1};function rt(e,t,a,n){return st.apply(this,arguments)}function st(){return(st=Object(o.a)(i.a.mark((function e(t,a,n,r){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(l.a)(Object(l.a)({},a),{},{isLoading:!0})),e.next=3,ee(t.tour_id);case 3:return s=e.sent,console.log(s,"tour delete resp"),e.next=7,V();case 7:c=e.sent,n(Object(l.a)(Object(l.a)({},a),{},{isLoading:!1})),r(c),it("Success delete Tour #"+t.tour_id);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t){var a="";return e.forEach((function(e){e.airport_id===t&&(a=e.city)})),a}function it(e){_.a.open({message:e,placement:"bottomRight",onClick:function(){console.log("Notification Clicked!")}})}var ot=function(e){var t=Object(n.useContext)(f),a=t.state,r=t.actions,s=a.generalStates,c=s.tours,i=s.airports,o=Object(n.useState)(nt),l=Object(u.a)(o,2),d=l[0],p=l[1],j=r.generalActions.toursData,h=c.map((function(t){return t.actions={edit:function(){e.onEdit(t)},delete:function(){!function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];tt({title:"Are you sure delete this Tour?",content:"Will delete this tour permanently",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e.apply(void 0,a)},onCancel:function(){console.log("Cancel")}})}(rt,t,d,p,j)}},t.dep=ct(i,t.departure),t.arr=ct(i,t.arrival),t}));return Object(b.jsx)(S.a,{className:"tours-table",title:"Tours",children:Object(b.jsx)(pe.a,{loading:d.isLoading,dataSource:h,columns:at})})},ut=w.a.Option,lt={name:"",n_days:"",arrival:0,departure:0,amount:"",isLoading:!1},dt={};function pt(){return(pt=Object(o.a)(i.a.mark((function e(t,a,n){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(Object(l.a)(Object(l.a)({},t),{},{isLoading:!0})),t.isEdit){e.next=7;break}return e.next=4,H(t);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,$(t.tour_id,t);case 9:r=e.sent;case 10:return console.log(r),e.next=13,V();case 13:s=e.sent,n(s),bt(t.isEdit?"Success, Tour edited":"Success, new Tour added"),a(lt);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t,a){var n=e.target.name,r=e.nativeEvent.data;if(null!==r)a(Object.assign({},t,Object(k.a)({},n,t[n]+r)));else if("deleteContentBackward"===e.nativeEvent.inputType){var s=t[n];(s=s.split("")).pop(),s=s.join(""),a(Object.assign({},t,Object(k.a)({},n,s)))}}function bt(e){_.a.open({message:e,placement:"bottomRight",onClick:function(){console.log("Notification Clicked!")}})}var ft=function(e){var t=Object(n.useState)(lt),a=Object(u.a)(t,2),r=a[0],s=a[1],c=Object(n.useContext)(f),i=c.state,o=c.actions.generalActions.toursData,d=i.generalStates.airports,p=function(e){return!!(e.name&&e.n_days&&e.arrival&&e.departure&&e.amount)}(r);return Object(n.useEffect)((function(){"{}"!==JSON.stringify(e.data)&&JSON.stringify(e.data)!==JSON.stringify(dt)&&(dt=e.data,s(Object(l.a)(Object(l.a)(Object(l.a)({},r),e.data),{},{isEdit:!0})))})),Object(b.jsxs)(S.a,{className:"create-tour",title:"Create new Tour",children:[Object(b.jsx)(N.a,{name:"name",placeholder:"name",disabled:r.isLoading,onChange:function(e){jt(e,r,s)},value:r.name},"name"),Object(b.jsx)(N.a,{name:"n_days",placeholder:"Days",disabled:r.isLoading,onChange:function(e){jt(e,r,s)},value:r.n_days},"n_day"),Object(b.jsxs)(w.a,{name:"departure",disabled:r.isLoading,onChange:function(e){s(Object(l.a)(Object(l.a)({},r),{},{departure:e}))},value:r.departure,children:[Object(b.jsx)(ut,{value:0,children:" Departure "},"0"),d.map((function(e){return Object(b.jsx)(ut,{value:e.airport_id,children:e.name},e.airport_id)}))]},"departure"),Object(b.jsxs)(w.a,{name:"arrival",disabled:r.isLoading,onChange:function(e){s(Object(l.a)(Object(l.a)({},r),{},{arrival:e}))},value:r.arrival,children:[Object(b.jsx)(ut,{value:0,children:" Destination "},"0"),d.map((function(e){return Object(b.jsx)(ut,{value:e.airport_id,children:e.name},e.airport_id)}))]},"arrival"),Object(b.jsx)(N.a,{name:"amount",placeholder:"amount",disabled:r.isLoading,onChange:function(e){jt(e,r,s)},value:"$"+r.amount},"amount"),Object(b.jsx)("div",{}),Object(b.jsx)(I.a,{disabled:r.isLoading,onClick:function(){s(lt)},children:"Clear"}),Object(b.jsx)(I.a,{onClick:function(){!function(e,t,a){pt.apply(this,arguments)}(r,s,o)},type:"primary",disabled:!p||r.isLoading,children:r.isEdit?"Confirm Edit":"Create"})]})},ht={data:{}},mt=function(){var e=Object(n.useState)(ht),t=Object(u.a)(e,2),a=t[0],r=t[1];return console.log(a),Object(b.jsxs)("div",{className:"tours-view",children:[Object(b.jsx)(ot,{onEdit:function(e){r(Object(l.a)(Object(l.a)({},a),{},{data:e}))}}),Object(b.jsx)(ft,{data:a.data})]})};function Ot(e){switch(e){case"home":return Object(b.jsx)(We,{});case"quotes":return Object(b.jsx)(ze,{});case"invoices":return Object(b.jsx)(et,{});case"tours":return Object(b.jsx)(mt,{});default:return Object(b.jsx)(We,{})}}var xt=function(e){return Object(b.jsx)("div",{className:"router-box",children:Ot(e.name)})};a(352);function vt(){return(vt=Object(o.a)(i.a.mark((function e(t){var a,n,r,s,c,o,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.airportsData,n=t.quotesData,r=t.toursData,s=t.servicesData,e.next=3,P();case 3:return(c=e.sent)&&a(c),e.next=7,q();case 7:return(o=e.sent)&&n(o),e.next=11,V();case 11:return(u=e.sent)&&r(u),e.next=15,F();case 15:(l=e.sent)&&s(l);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt=function(){var e=Object(n.useContext)(f),t=e.actions,a=e.state.generalStates.activeView;return Object(n.useEffect)((function(){!function(e){vt.apply(this,arguments)}(t.generalActions)}),[]),Object(b.jsxs)("div",{className:"dashboard-wrapper",children:[Object(b.jsx)(m,{}),Object(b.jsx)(g,{}),Object(b.jsx)(xt,{name:a})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(b.jsx)(h,{children:Object(b.jsx)(gt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[355,1,2]]]);
//# sourceMappingURL=main.53fed414.chunk.js.map